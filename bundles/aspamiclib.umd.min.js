!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("aspamiclib",["exports","@angular/core","@angular/common"],e):e(t.aspamiclib={},t.ng.core,t.ng.common)}(this,function(t,e,o){"use strict";var n,i=new(require("watson-html5-speech-recognition").SpeechToText)({watsonTokenUrl:"/api/speech-to-text/"}),r=function(){function t(){this.apiURL="",this.imageSrc="",this.micResult=new e.EventEmitter}return t.prototype.startListening=function(){n||(i.isSupported?this.listen():alert("speech not supported by this browser"))},t.prototype.stopListening=function(t){console.log("stop"),console.log(t),n&&(n.stop(),n=null)},t.prototype.listen=function(){var e=this;n=i.listen({onStart:function(){console.log("starting")},onResult:function(t){console.log(t.text),t.isFinal&&(e.micResult.emit(t.text),e.stopListening(t.text))},onError:function(t){console.log("error",t)},onEnd:function(t){console.log("end",t)}})},t.decorators=[{type:e.Component,args:[{selector:"aspamic",template:'<a (click)="startListening()" [style.background]="\'url(\' + imageSrc + \')\'" style="cursor: pointer;" title="Listen"> </a>',styles:["h1{color:#f0f}"]}]}],t.propDecorators={apiURL:[{type:e.Input}],imageSrc:[{type:e.Input}],micResult:[{type:e.Output}]},t}(),s=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:e.NgModule,args:[{imports:[o.CommonModule],declarations:[r],exports:[r]}]}],t}();t.MicComponent=r,t.AspaMicModule=s,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=aspamiclib.umd.min.js.map